# KB 헬스케어 백엔드 개발자 과제

과제 전형을 진행할 수 있는 기회를 주셔서 감사합니다 :)

[Swagger HTTP API 문서](http://localhost:8080/swagger-ui/index.html)

## 빌드 & 실행
```shell
# 빌드
./gradlew clean build

# 컨테이너 실행
docker compose up --build -d

# 컨테이너 실행 (arm64[ex. apple silicon] 환경) 
docker compose -f docker-compose-amd64.yml up -d --build
```

## 프로젝트 구조
```text
.
└── src
    └── main
        └── java
            └── com
                └── kb
                    └── healthcare
                        ├── activity
                        │   ├── adapter
                        │   │   │── in
                        │   │   │   ├── event
                        │   │   │   └── web
                        │   │   │── out
                        │   │       ├── event
                        │   │       └── mongo
                        │   ├── application
                        │   │ ├── port
                        │   │ │     ├── in
                        │   │ │     │   └── command
                        │   │ │     └── out
                        │   │ └── service
                        │   └── domain
                        ├── configuration
                        ├── exception
                        ├── user
                        │   ├── adapter
                        │   │   ├── in
                        │   │   │    └── web
                        │   │   └── out
                        │   │       ├── jwt
                        │   │       └── persistence
                        │   ├── application
                        │   │   ├── port
                        │   │   │   │── in
                        │   │   │   │   └── command
                        │   │   │   └── out
                        │   │   └── service
                        │   ├── domain
                        │   └── exception
                        └── util
```

과제 프로젝트의 구조는 헥사고날 아키텍처(Ports & Adapters)가 적용된 구조입니다. 핵심 개념은 비즈니스 로직을 중심에 두고, 외부와의 연결을 모두 포트로 끊는다는 것 입니다.

가장 바깥에는 애플리케이션 루트가 있고, 그 아래에 activity, user처럼 도메인별로 분리된 패키지가 존재합니다. 도메인 간 의존을 최소화하고, 향후 서비스 분리나 확장을 쉽게 만들기 위한 구조입니다.

각 도메인 내부는 공통적으로 adapter, application, domain으로 나뉩니다.

domain은 가장 안쪽에 위치하며, 가장 중요한 비즈니스 규칙을 담는 영역입니다. 도메인과 도메인 로직이 여기에 존재하며, 프레임워크나 기술적인 관심사에 의존하지 않습니다.

application은 도메인을 직접 사용하여 유스케이스를 실행하는 계층입니다.
port.in은 시스템이 외부에 제공하는 유스케이스의 인터페이스이며, 무엇을 할 수 있는지를 정의합니다.
port.out은 데이터베이스, 메시지 브로커, 외부 API 같은 외부 의존성에 대한 추상화 인터페이스입니다. 이를 통해 애플리케이션과 도메인은 구체 기술을 전혀 알지 않아도 됩니다.
service는 이 포트를 구현한 클래스로, 실제 유스케이스 흐름을 조합하고 트랜잭션을 관리합니다.

adapter는 가장 바깥쪽 레이어로, 외부와의 실제 연결 지점입니다.
adapter.in은 웹 컨트롤러나 이벤트 리스너처럼 외부 요청을 받아 port.in을 호출하는 역할을 합니다.
adapter.out은 port.out을 구현하며, MongoDB, JWT, 이벤트 발행 등 구체적인 기술을 사용해 외부 시스템과 통신합니다. 이 레이어에서만 프레임워크와 인프라 기술이 자유롭게 사용됩니다.

이 구조의 핵심적인 특징은 외부 기술은 언제든 교체 가능하지만, 도메인 로직은 보호되고 결과적으로 이 프로젝트 구조는 테스트가 쉽고, 변경에 강하며, 비즈니스 중심으로 유지보수 및 확장할 수 있습니다.  


## 구현 요구사항

- [X] [유저 회원가입 API]
- [X] [유저 로그인 API]
- [X] [활동 데이터 저장 API]
- [X] [활동 데이터 일별 조회 API]
- [X] [활동 데이터 월별 조회 API]

## 데이터베이스 설계 (ERD)
### users (Mysql)
![img.png](user.png)

### activity (MongoDB)
| field         | type       |
|---------------|------------|
| _id           | ObjectId   |
| userId        | Binary     |
| type          | String     |
| steps         | Decimal128 |
| distance      | Decimal128 |
| calrories     | Decimal128 |
| fromAt        | Date       |
| toAt          | Date       |
| createdAt     | Date       |
| productName   | String     |
| productVendor | String     |
| sourceName    | String     |
| sourceMode    | String     |
| sourceType    | String     |

### daily_activity (MongoDB)
| field     | type       |
|-----------|------------|
| _id       | ObjectId   |
| UserId    | Binary     |
| date      | String     |
| type      | String     |
| steps     | Decimal128 |
| distance  | Decimal128 |
| calrories | Decimal128 |
| createdAt | Date       |

### monthly_activity (MongoDB)
| field     | type       |
|-----------|------------|
| _id       | ObjectId   |
| UserId    | Binary     |
| date      | String     |
| type      | String     |
| steps     | Decimal128 |
| distance  | Decimal128 |
| calrories | Decimal128 |
| createdAt | Date       |

## 데이터 조회 결과 (Daily/Monthly 레코드키 기준)
### Daily
| Daily      | Steps | Calories  | Distance  | RecordKey |
|------------|------:|----------------:|--------------:|-----------|
| 2024-11-15 | 7243 | 289.20995225 | 5.4194896718 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-15 | 9589 | 345.36 | 7.2432 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-15 | 7542.46 | 0 | 6.0340 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-15 | 6672 | 0 | 5.3376 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-16 | 10717 | 425.52994815 | 8.0204797034 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-16 | 5075 | 199.24 | 4.2638 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-16 | 6629.56 | 0 | 5.3037 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-16 | 12450 | 0 | 9.96 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-17 | 7390 | 288.48996584 | 5.6080096590 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-17 | 5179 | 183.69 | 3.9831 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-17 | 1708.00 | 0 | 1.3664 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-17 | 233 | 0 | 0.1864 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-18 | 7928 | 316.69998220 | 6.0340498900 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-18 | 13291 | 453.15 | 10.2997 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-18 | 11119.42 | 0 | 8.8955 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-18 | 13601 | 0 | 10.8808 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-19 | 5857 | 232.44996358 | 4.4839393130 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-19 | 8203 | 305.68 | 6.3278 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-19 | 7677.43 | 0 | 6.1419 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-19 | 12192 | 0 | 9.7536 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-20 | 7762 | 310.82996854 | 5.8415798517 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-20 | 10055 | 341.26 | 7.7173 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-20 | 6348.00 | 0 | 5.0784 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-20 | 5401 | 0 | 4.3208 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-21 | 5952 | 236.67996438 | 4.4632696545 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-21 | 9114 | 327.44 | 6.9327 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-21 | 7916.00 | 0 | 6.3328 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-21 | 9569 | 0 | 7.6552 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-22 | 9692 | 385.83993850 | 7.3932293041 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-22 | 8496 | 291.92 | 6.5410 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-22 | 9376.00 | 0 | 7.5008 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-22 | 8613 | 0 | 6.8904 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-23 | 7619 | 303.10995780 | 5.7530293665 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-23 | 5117 | 194.74 | 3.9777 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-23 | 8938.52 | 0 | 7.1508 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-23 | 8243 | 0 | 6.5944 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-24 | 6285 | 249.50998158 | 4.8245898508 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-24 | 9089 | 329.34 | 6.9698 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-24 | 4490.00 | 0 | 3.5920 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-24 | 8 | 0 | 0.0064 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-25 | 6396 | 256.80996640 | 4.9175796168 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-25 | 8660 | 308.74 | 6.6983 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-25 | 7188.74 | 0 | 5.7510 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-25 | 12801 | 0 | 10.2408 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-26 | 6815 | 280.82997390 | 5.1118298090 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-26 | 7930 | 281.52 | 6.0816 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-26 | 8679.16 | 0 | 6.9433 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-26 | 8142 | 0 | 6.5136 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-27 | 11522 | 475.34995652 | 8.7367195778 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-27 | 9566 | 350.06 | 7.2532 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-27 | 7566.20 | 0 | 6.0530 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-27 | 6672 | 0 | 5.3376 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-28 | 9423 | 385.35995593 | 7.0484097933 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-28 | 9769 | 347.77 | 7.3867 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-28 | 9043.00 | 0 | 7.2344 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-28 | 7840 | 0 | 6.272 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-29 | 7773 | 307.33998307 | 5.8451199137 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-29 | 8698 | 303.99 | 6.6835 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-29 | 8231.18 | 0 | 6.5849 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-29 | 10896 | 0 | 8.7168 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-11-30 | 6409 | 258.45998020 | 4.8407698100 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11-30 | 3114 | 107.87 | 2.3598 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11-30 | 3504.21 | 0 | 2.8034 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11-30 | 12912 | 0 | 10.3296 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-01 | 6911 | 279.00999890 | 5.2777099490 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-01 | 6920 | 228.82 | 5.4874 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-01 | 7117.00 | 0 | 5.6936 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-01 | 35 | 0 | 0.028 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-02 | 5152 | 209.00998185 | 3.9056997250 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-02 | 8194 | 294.78 | 6.2090 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-02 | 5839.30 | 0 | 4.6714 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-02 | 12039 | 0 | 9.6312 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-03 | 9253 | 366.01997350 | 6.9904796797 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-03 | 11103 | 383.32 | 8.5276 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-03 | 9475.00 | 0 | 7.5800 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-03 | 6953 | 0 | 5.5624 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-04 | 11100 | 452.91996990 | 8.3271197205 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-04 | 8507 | 308.82 | 6.4471 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-04 | 7856.51 | 0 | 6.2852 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-04 | 14533 | 0 | 11.6264 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-05 | 13942 | 549.57994807 | 10.4508797352 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-05 | 10329 | 375.13 | 7.8684 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-05 | 7510.00 | 0 | 6.0080 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-05 | 10817 | 0 | 8.6536 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-06 | 6069 | 244.98995902 | 4.6009896410 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-06 | 12300 | 419.26 | 9.4889 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-06 | 7135.57 | 0 | 5.7085 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-06 | 10766 | 0 | 8.6128 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-07 | 6835 | 277.19997075 | 5.1540094107 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-07 | 5063 | 220.87 | 4.4469 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-07 | 12909.69 | 0 | 10.3278 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-07 | 7485 | 0 | 5.988 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-08 | 2943 | 115.39999552 | 2.2430599723 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-08 | 5353 | 183.44 | 4.2010 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-08 | 3483.70 | 0 | 2.7870 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-08 | 12307 | 0 | 9.8456 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-09 | 8659 | 346.14996663 | 6.6131799444 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-09 | 5740 | 191.13 | 4.4660 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-09 | 6455.00 | 0 | 5.1640 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-09 | 10958 | 0 | 8.7664 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-10 | 6546 | 265.08997843 | 4.9617498627 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-10 | 9249 | 320.30 | 7.1585 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-10 | 7980.00 | 0 | 6.3840 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-10 | 12938 | 0 | 10.3504 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-11 | 7513 | 302.81996664 | 5.5875897730 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-11 | 10467 | 350.56 | 8.1362 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-11 | 8550.35 | 0 | 6.8403 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-11 | 12589 | 0 | 10.0712 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-12 | 7093 | 285.36995387 | 5.4144695290 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-12 | 10929 | 372.07 | 8.3910 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-12 | 8697.00 | 0 | 6.9576 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-12 | 8808 | 0 | 7.0464 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-13 | 8102 | 325.21995176 | 6.1263096022 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-13 | 9349 | 314.54 | 7.2183 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-13 | 9223.03 | 0 | 7.3784 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-13 | 10485 | 0 | 8.388 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-14 | 4797 | 191.79998186 | 3.6570697181 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-14 | 4154 | 145.77 | 3.1663 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-14 | 5749.00 | 0 | 4.5992 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-14 | 5350 | 0 | 4.28 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12-15 | 4245 | 167.82999820 | 3.2095400230 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12-15 | 3412 | 116.98 | 2.6330 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12-15 | 5901.00 | 0 | 4.7208 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12-15 | 788 | 0 | 0.6304 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |

### Monthly
| Monthly | Steps | Calories | Distance | RecordKey |
|---------|------:|----------------:|--------------:|-----------|
| 2024-11 | 130945 | 4671.76933810 | 100.7192331351 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-11 | 124783 | 5002.49943884 | 94.3420947854 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-11 | 115957.90098810686 | 0 | 92.76632079048549 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-11 | 136244.99999999997 | 0 | 108.99600000000000 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |
| 2024-12 | 130551 | 4560.12960217 | 101.09696052554 | 3b87c9a4-f983-4168-8f27-85436447bb57 |
| 2024-12 | 115592 | 4635.83958001 | 87.3763360755 | 7836887b-b12a-440f-af0f-851546504b13 |
| 2024-12 | 113882.14579710289 | 0 | 91.10571663768231 | 7b012e6e-ba2b-49c7-bc2e-473b7b58e72e |
| 2024-12 | 136850.99999999997 | 0 | 109.48080000000001 | e27ba7ef-8bb2-424c-af1d-877e826b7487 |

## 발생한 이슈 및 해결 방법
### 시간 처리
다양한 타임존 설정의 디바이스에서 다양한 포맷으로 전송되는 데이터를 처리해야하는 상황으로 이해하였습니다.

데이터를 전송하는 디바이스의 앱에서 서버로 전송하는 포맷을 일치시키는 것이 가장 좋겠지만 과제 상황에 한정하여 샘플 데이터에서 전송되는 포맷들을 개별적으로 정의하여 역직렬화하였습니다.

정의되지 않은 그 외의 포맷은 처리할 수 없지만 결국 전송하는 측에서 일치시키는 것이 가장 좋은 해결 방법이라고 생각하고,
클라이언트에게 높은 자유도를 주어 모든 포맷들과 표준이 아닌 포맷들까지 정의하여 처리하는 것은 복잡도를 높이는 좋지 않은 방법이라고 생각합니다.

또한 타임존이나 타임 오프셋 정보가 없는 경우 정확한 시간을 알 수가 없지만 과제 상황에서는 국내 서비스라는 가정하에 로컬 타임존(KST)으로 간주하여 LocalDateTime으로 처리하였습니다.
만약, 글로벌 서비스라고 가정한다면 정확한 날짜 처리를 위해서 ZonedDateTime으로 처리하는 것이 적합해보입니다.
